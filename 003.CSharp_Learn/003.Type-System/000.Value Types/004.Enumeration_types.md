# Enumeration types
## 摘要

## 正文
An enumeration type (or enum type) is a value type defined by a set of named constants of the underlying integral numeric type. To define an enumeration type, use the enum keyword and specify the names of enum members:(枚举类型(或enum类型)是一种值类型，由一组整数类型的命名常量定义。要定义枚举类型，可使用enum关键字并指定枚举成员的名称:)
```C#
   enum Season
   {
       Spring,
       Summer,
       Autumn,
       Winter
   }
```

By default, the associated constant values of enum members are of type int; they start with zero and increase by one following the definition text order. You can explicitly specify any other integral numeric type as an underlying type of an enumeration type. You can also explicitly specify the associated constant values, as the following example shows:(默认情况下，枚举成员关联的常量的类型是int;它们从0开始，按照定义文本的顺序递增1。可以显式指定任何其他整数类型作为枚举类型的基础类型。也可以显式指定相关的常量值，如下面的例子所示:)
```C#
   enum ErrorCode : ushort
   {
       None = 0,
       Unknown = 1,
       ConnectionLost = 100,
       OutlierReading = 200
   }
```

You cannot define a method inside the definition of an enumeration type. To add functionality to an enumeration type, create an extension method.(不能在枚举类型的定义中定义方法。要向枚举类型添加功能，请创建扩展方法。)
> 枚举里不能定义方法，但是可以使用拓展方法类实现

The default value of an enumeration type E is the value produced by expression (E)0, even if zero doesn't have the corresponding enum member.(枚举类型E的默认值是表达式(E)0产生的值，即使表达式0没有对应的枚举成员。)

You use an enumeration type to represent a choice from a set of mutually exclusive values or a combination of choices. To represent a combination of choices, define an enumeration type as bit flags.(可使用枚举类型来表示一组互斥值或选项组合中的一种选择。若要表示选择的组合，请将枚举类型定义为位标志。)

### Enumeration types as bit flags
If you want an enumeration type to represent a combination of choices, define enum members for those choices such that an individual choice is a bit field. That is, the associated values of those enum members should be the powers of two. Then, you can use the bitwise logical operators | or & to combine choices or intersect combinations of choices, respectively. To indicate that an enumeration type declares bit fields, apply the Flags attribute to it. As the following example shows, you can also include some typical combinations in the definition of an enumeration type.(如果想用枚举类型来表示多个选项的组合，请为这些选项定义枚举成员，其中每个选项是一个位字段。也就是说，这些枚举成员的关联值应该是2的幂。然后，您可以使用按位逻辑操作符|或&来分别组合选项或交叉组合选项。若要指示枚举类型声明了位字段，请对其应用Flags属性。如下面的示例所示，还可以在枚举类型的定义中包含一些典型的组合。)
```C#
    [Flags]
    public enum Days
    {
        None      = 0b_0000_0000,  // 0
        Monday    = 0b_0000_0001,  // 1
        Tuesday   = 0b_0000_0010,  // 2
        Wednesday = 0b_0000_0100,  // 4
        Thursday  = 0b_0000_1000,  // 8
        Friday    = 0b_0001_0000,  // 16
        Saturday  = 0b_0010_0000,  // 32
        Sunday    = 0b_0100_0000,  // 64
        Weekend   = Saturday | Sunday
    }
    
    public class FlagsEnumExample
    {
        public static void Main()
        {
            Days meetingDays = Days.Monday | Days.Wednesday | Days.Friday;
            Console.WriteLine(meetingDays); // Monday, Wednesday, Friday
            
    
            Days workingFromHomeDays = Days.Thursday | Days.Friday;
            Console.WriteLine($"Join a meeting by phone on {meetingDays & workingFromHomeDays}"); // Join a meeting by phone on Friday
    
            bool isMeetingOnTuesday = (meetingDays & Days.Tuesday) == Days.Tuesday;
            Console.WriteLine($"Is there a meeting on Tuesday: {isMeetingOnTuesday}"); // Is there a meeting on Tuesday: False
    
            var a = (Days)37;
            Console.WriteLine(a); // Monday, Wednesday, Saturday
        }
    }
```
For more information and examples, see the [System.FlagsAttribute](#参考资料) API reference page and the [Non-exclusive members and the Flags attribute](#参考资料) section of the [System.Enum](#参考资料) API reference page.

---
### The System.Enum type and enum constraint(约束;限制)
The System.Enum type is the abstract base class of all enumeration types.  It provides a number of methods to get information about an enumeration type and its values.  For more information and examples, see the System. Enum API reference page.(System.Enum 是所有枚举类型的抽象基类)

You can use System.Enum in a base class constraint (that is known as the enum constraint) to specify that a type parameter is an enumeration type.  Any enumeration type also satisfies(satisfy：满足) the struct constraint, which is used to specify that a type parameter is a non-nullable value type (枚举类型约束也满足结构体类型约束)

---

### Conversions 
For any enumeration type, there exist explicit conversions between the enumeration type and its underlying integral type. If you cast an enum value to its underlying（潜在的） type, the result is the associated integral value of an enum member.(对于任何枚举类型，枚举类型与其基础整数类型之间都存在显式转换。如果将枚举值强制转换为其基础类型，结果是枚举成员的关联整型值。)
```C#
    public enum Season
    {
       Spring,
       Summer,
       Autumn,
       Winter
    }
    
    public class EnumConversionExample
    {
       public static void Main()
       {
          Season a = Season.Autumn;
          Console.WriteLine($"Integral value of {a} is {(int)a}");  // Integral value of Autumn is 2
    
          var b = (Season)1;
          Console.WriteLine(b);  // Summer
    
          var c = (Season)4;
          Console.WriteLine(c);  // 4

          object value = 99;
          Console.WriteLine(Enum.IsDefined(typeof(Season), value)); // False
       }
}
```

Use the Enum.IsDefined(如上示例) method to determine whether an enumeration type contains an enum member with the certain associated value.

For any enumeration type, there exist boxing and unboxing conversions to and from the System.Enum type, respectively.（对于任何枚举类型，都存在与System.Enum之间的装箱和拆箱转换。）



## 参考资料
1. [https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/enum](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/enum)
2. [System.Enum](https://learn.microsoft.com/en-us/dotnet/api/system.enum)
3. [Non-exclusive members and the Flags attribute](https://learn.microsoft.com/en-us/dotnet/api/system.enum#non-exclusive-members-and-the-flags-attribute)
4. [System.FlagsAttribute](https://learn.microsoft.com/en-us/dotnet/api/system.flagsattribute)







